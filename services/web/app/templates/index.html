<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>우리들의 크롤러</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
    <script>
        function toggleDomain(domainId) {
            var rows = document.getElementsByClassName(domainId);
            for (var i = 0; i < rows.length; i++) {
                rows[i].style.display = rows[i].style.display === 'none' ? '' : 'none';
            }
        }
    </script>
</head>
<body>
    <h1 style="text-align: center">구름망 다크웹 크롤러 과제</h1>
    <h2 style="text-align: center">다크웹 엔트리</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>Conductor</th>
            <th>Domain</th>
            <th>Details</th>
        </tr>
        {% for entry in entries %}
        <tr onclick="toggleDomain('domain{{ entry.id }}')">
            <td>{{ entry.id }}</td>
            <td>{{ entry.conductor }}</td>
            <td>{{ entry.domain }}</td>
            <td>View Details</td>
        </tr>
        {% for url in entry.urls %}
        <tr class="domain{{ entry.id }}" style="display: none;">
            <td colspan="4">
                <strong>URL:</strong> {{ url.url }}<br>
                <strong>Depth:</strong> {{ url.depth }}<br>
                <strong>Parameter:</strong> {{ url.parameter }}<br>
                <strong>Title:</strong> {{ url.title }}<br>
                <strong>Words:</strong> {{ url.words }}<br>
                <strong>HTML Content:</strong> <a href="{{ url_for('main.crawl_html', html_content=url.html_content) }}" target="_blank">바로가기</a>
            </td>
        </tr>
        {% endfor %}
        {% endfor %}
    </table>
</body>
</html>
